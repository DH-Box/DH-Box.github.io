---
layout: default_noheader
title: Sign Up | DH Box
---

<script type="text/javascript">
$( document ).ready(function() {
    $.validator.setDefaults({
      // debug: true,
      // success: "valid"
    });
    var form = $( "form" );
    form.validate();
    $( "#dhbox_form_submit" ).click(function(e) {
        e.preventDefault();
        if (form.valid()){
            var allUsers = { users: [] };
            $('.userwrapper').each(function () { 
                allUsers.users.push({ 
                name: $(this).find('[what=users]').val(), 
                pass: $(this).find('[what=passes]').val(), 
                isAdmin: $(this).find('[name=admin]').val() 
                }) 
            });
            allUsers = JSON.stringify(allUsers);
            console.log(allUsers);
            $.post('http://Localhost:8080/test', allUsers);
        }else{
        console.log('didnt work');
        }
    });
    // $(document).on('click', '#dhbox_form_submit', function(e){
    //     // e.preventDefault();
        // var allUsers = { users: [] };
        // $('.userwrapper').each(function () { 
        //     allUsers.users.push({ 
        //     name: $(this).find('[what=users]').val(), 
        //     pass: $(this).find('[what=passes]').val(), 
        //     isAdmin: $(this).find('[name=admin]').val() 
        //     }) 
        // });
        // allUsers = JSON.stringify(allUsers);
        // console.log(allUsers);
        // $.post('http://Localhost:8080/test', allUsers);
    // });

    $(document).on('click', '#add', function(e) {
            var intId = $("#the_form div").length + 1;
            var userWrapper = $("<div class=\"form-group userwrapper\" id=\"field" + intId + "\"/>");
            var userDiv = $("<div class=\"col-lg-4\">");
            var newUserLabel = $("<label class=\" control-label\" for=\"user" + intId + "\">User:</label>");
            var newUser = $("<input type=\"text\" minlength=\"1\" what=\"users\" class=\"form-control users\" name=\"user" + intId + "\" id=\"user" + intId + "\" /></div>");
            var passDiv = $("<div class=\"col-lg-4\">");
            var newPassLabel = $("<label class=\"control-label\" for=\"passUser" + intId + "\">Password:</label>");
            var newPass = $("<input minlength=\"6\" type=\"password\" what=\"passes\" class=\"form-control passes\" name=\"pass" + intId + "\" id=\"passUser" + intId + "\" />");
            var removeButton = $("<input type=\"button\" class=\"remove btn btn-danger\" aria-hidden=\"true\" value=\"&times;\"/>");

            removeButton.click(function() {
                $(this).parent().prev().remove();
                $(this).parent().remove();
            });
            userDiv.append(newUserLabel);
            userDiv.append(newUser);
            passDiv.append(newPassLabel);
            passDiv.append(newPass);
            passDiv.append(removeButton);
            userWrapper.append(userDiv);
            userWrapper.append(passDiv);
            $("#the_form").append(userWrapper);
        });

    });
</script>

<div class="breadcrumbtrail">
  <ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li class=active>Sign Up</li>
  </ol>
</div>

<div style="margin-left:50px"><h1>Sign Up</h1></div>

<br>

<div class="container">

<div class="col-lg-10">
    <form class="form-horizontal" role="form" id="the_form" method="post">
        <div class='form-group userwrapper' id='field1'>
            <div class="col-lg-4">
                <label for='admin' class="control-label">Administrator:</label>
                <input type'text' what="users" minlength="1" class='users form-control' id='admin' name='admin' required/>
                <span class="help-block">This is the person with complete control over a new DH Box.</span>
            </div>
            <div class="col-lg-4">
                <label for='adminPass' class="control-label">Password:</label>
                <input type'text' type="password" minlength="6" what="passes" id='adminPass' class='passes form-control' name='adminPass' required/>
                <span class="help-block">Passwords apply for access to: DH Box, Omeka, RStudio.</span>
            </div>
        </div>
    </form>
        <div>
            <input type="button" value="Add a user" class="add btn btn-info" id="add" />
        </div>
        <br />
        <div>
            <input name="save" id='dhbox_form_submit' type="submit" value="Save" class="btn btn-success" />
        </div>
</div>

</div>
